= Documentation technique du site web REVIVE
:toc:
:toc-title: Sommaire


== I. Présentation du site web
[.text-justify]
Le site web REVIVE est un site d'e-commerce ayant été demandé par l'entreprise du même nom dont le but de vendre en ligne ses produits reconditionnés.

=== 1. Les utilisateurs :
[.text-justify]
Le site web peut être utilisé par n'importe qu'elle type d'utilisateur non-connecté. Cependant il existe deux types d'utilisateurs pouvant être connecté pour accéder à certaines fonctionnalités : les clients et les administrateurs.

==== 1.1) Use-Cases :
image::images/ucClient.png[Use Case Client]

image::images/ucAdmin.png[Use Case Administrateur]

[.text-justify]
Les *clients* sont les principaux types d'utilisateurs, ils peuvent :

* Créer un compte client
* Consulter et modifier les informations de leur compte
* Se connecter en tant que client
* Rechercher et consulter des produits
* Ajouter des produits au panier
* Consulter leur panier
* Régler leur panier
* Faire une demande d'ajout d'un produit

[.text-justify]
Les *administrateurs* ont accès à des fonctionnalités similaires aux client et à des fonctionnalités supplémentaires concernant la gestion du site, ils peuvent :

* Consulter et modifier les informations de leur compte
* Se connecter en tant qu'administrateur
* Ajouter/Supprimer des produits
* Ajouter/Supprimer des catégories de produits

{empty} +

== II. Architecture

=== 1. Structure du site :
[.text-justify]
Le site web est structurés en plusieurs répertoires :

* `include` contenant les fichiers PHP nécessaires au fonctionnement des pages du site (header, footer, etc)
* `pages` contentant toutes les pages PHP principales du site
* `public` contentant les fichiers externes utilisés sur le site (fichiers CSS, images, fichiers JavaScript, etc)

Aperçu :

[source]
----
├───include
├───pages
└───public
    ├───css
    ├───images
    │   └───produits
    └───js
----

image::images/SEP.png[Diagramme SEP du site]

=== 2. Base de données du site :
image::images/DC.png[Diagramme de classes de la base de données du site]

[.text-justify]
Toutes les données manipulées par le site sont stockées dans une base de données Oracle SQL externes. +
Elles sont structurées de la manière suivante :

* Un *Client* confectionne un seul _panier_ et peut consulter 0 ou plusieurs _commandes_ enregistrées
* Les _administrateurs_ sont stockés dans la base de données mais ils sont représentés par une table indépendante
* Un *Produit* est attribué à une catégorie, est affecté à 1 ou plusieurs _choix_ (couleur du produit, capacité, etc) et est assigné à une ou plusieures _caractéristiques_ (taille, poid, etc)
* Une *Categorie* peut avoir ou non une _catégorie mère_
* Un *Panier* peut contenir 0 ou plusieurs _produits_
* Une *Commande* peut renseigner 1 ou plusieurs produits

=== 3. Ressources externes :
==== 3.1. Librairie(s) utilisée(s) :
[.text-justify]
Pour toutes les fonctionnalités y compris la connexion concernant la base de données, le site web utilise la librairie https://www.php.net/manual/fr/book.oci8.php[Oci8].

=== 4. Éléments essentiels :
==== 4.1 Prérequis pour les développeurs :
[.text-justify]
Si le code du site devait être repris pour être amélioré ou modifié, le développeur devra avoir au préalable un outil lui permettant de développer avec *HTML*5, *CSS*, *JavaScript* et *PHP8*.

[.text-justify]
Le site utilise une *base de données Oracle-SQL* dont le script SQL-LDD de création est fourni avec le code source du site. Cette base de données fonctionne avec des procédures déclarées dans un paquetage `Gestion_REVIVE` et des déclencheurs dont les PL/SQL scripts sont également fournis. Un script SQL-LMD est également fourni dans le but de remplir la base de données avec un jeu de données réel.

[.text-justify]
Le fichier `connect.inc.php` du répertoire `include` peut être modifié afin de contenir les données de connexion à une nouvelle base de données.

{empty} +

== III. Fonctions et Fichiers inclus dans les pages du site

*PASTAGA HERE*
